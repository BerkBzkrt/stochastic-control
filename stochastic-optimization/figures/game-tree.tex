\documentclass[tikz,margin=1mm]{standalone}

\usepackage{tikz}
\usetikzlibrary{matrix, positioning,calc, backgrounds, fit}
\usepackage{istgame}
\tikzset{action/.style={preaction={draw,yellow!50,-,double=yellow!50, double distance=20\pgflinewidth}}}


\standaloneenv{istgame}

\begin{document}
    \begin{istgame}
      \setxtinfosetstyle{rectangle,rounded corners,fill=black!15,draw,thick,dashed}
      \xtdistance{15mm}{60mm}
      \istroot(O){c}
      \istb{S=1}[above left]
      \istb{2}[left]
      \istb{3}[right]
      \istb{4}[above right]
      \endist
      \xtdistance{15mm}{30mm}
      \istroot(s1)(O-1)<90>{d}
      \istb[action]{A=0}[left]
      \istb{1}[right]
      \endist
      \istroot(s2)(O-2)<90>{d}
      \istb[action]{0}[left]
      \istb{1}[right]
      \endist
      \istroot(s3)(O-3)<90>{d}
      \istb{0}[left]
      \istb[action]{1}[right]
      \endist
      \istroot(s4)(O-4)<90>{d}
      \istb{0}[left]
      \istb[action]{1}[right]
      \endist
      \xtdistance{15mm}{10mm}
      \istroot(a10)(s1-1)<90>{c}
      \istb*{D=2}[left]{0}
      \istb*{3}[left]{0}
      \istb*{4}[right]{0}
      \endist
      \istroot(a11)(s1-2)<90>{c}
      \istb*{2}[left]{-1}
      \istb*{3}[left]{-1}
      \istb*{4}[right]{-1}
      \endist

      \istroot(a20)(s2-1)<90>{c}
      \istb*{1}[left]{0}
      \istb*{3}[left]{0}
      \istb*{4}[right]{0}
      \endist
      \istroot(a21)(s2-2)<90>{c}
      \istb*{1}[left]{1}
      \istb*{3}[left]{-1}
      \istb*{4}[right]{-1}
      \endist

      \istroot(a30)(s3-1)<90>{c}
      \istb*{1}[left]{0}
      \istb*{2}[left]{0}
      \istb*{4}[right]{0}
      \endist
      \istroot(a31)(s3-2)<90>{c}
      \istb*{1}[left]{1}
      \istb*{2}[left]{1}
      \istb*{4}[right]{-1}
      \endist

      \istroot(a40)(s4-1)<90>{c}
      \istb*{1}[left]{0}
      \istb*{2}[left]{0}
      \istb*{3}[right]{0}
      \endist
      \istroot(a41)(s4-2)<90>{c}
      \istb*{1}[left]{1}
      \istb*{2}[left]{1}
      \istb*{3}[right]{1}
      \endist
    \end{istgame}

    \begin{istgame}
      \setxtinfosetstyle{rectangle,rounded corners,%fill=black!15,
                         draw,thick,dashed}
      \xtdistance{25mm}{25mm}
      \istroot(O){c}
      \istb{W=(2,1)}[above left, near end]
      \istb{(3,1)}[left, near end]
      \istb{(4,1)}[left, near end]

      \istb{(1,2)}[left, near end]
      \istb{(3,2)}[left, near end]
      \istb{(4,2)}[left, near end]

      \istb{(1,3)}[left, near end]
      \istb{(2,3)}[left, near end]
      \istb{(4,3)}[left, near end]

      \istb{(1,4)}[left, near end]
      \istb{(2,4)}[left, near end]
      \istb{(3,4)}[left, near end]
      \endist

      \xtdistance{15mm}{10mm}
      \istroot(S1)(O-1)<90>{d}
      \istb*[action]{A=0}[left]{0}
      \istb*{1}[left]{-1}
      \endist

      \istroot(S2)(O-2)<90>{d}
      \istb*[action]{0}[left]{0}
      \istb*{1}[left]{-1}
      \endist

      \istroot(S3)(O-3)<90>{d}
      \istb*[action]{0}[left]{0}
      \istb*{1}[left]{-1}
      \endist

      \istroot(S4)(O-4)<90>{d}
      \istb*[action]{0}[left]{0}
      \istb*{1}[left]{1}
      \endist

      \istroot(S5)(O-5)<90>{d}
      \istb*[action]{0}[left]{0}
      \istb*{1}[left]{-1}
      \endist

      \istroot(S6)(O-6)<90>{d}
      \istb*[action]{0}[left]{0}
      \istb*{1}[left]{-1}
      \endist

      \istroot(S7)(O-7)<90>{d}
      \istb*{0}[left]{0}
      \istb*[action]{1}[left]{1}
      \endist

      \istroot(S8)(O-8)<90>{d}
      \istb*{0}[left]{0}
      \istb*[action]{1}[left]{1}
      \endist

      \istroot(S9)(O-9)<90>{d}
      \istb*{0}[left]{0}
      \istb*[action]{1}[left]{-1}
      \endist

      \istroot(S10)(O-10)<90>{d}
      \istb*{0}[left]{0}
      \istb*[action]{1}[left]{1}
      \endist

      \istroot(S11)(O-11)<90>{d}
      \istb*{0}[left]{0}
      \istb*[action]{1}[left]{1}
      \endist

      \istroot(S12)(O-12)<90>{d}
      \istb*{0}[left]{0}
      \istb*[action]{1}[left]{1}
      \endist

      \xtInfosetO(O-1)(O-3){$S=1$}
      \xtInfosetO(O-4)(O-6){$S=2$}
      \xtInfosetO(O-7)(O-9){$S=3$}
      \xtInfosetO(O-10)(O-12){$S=4$}
    \end{istgame}

\end{document}
