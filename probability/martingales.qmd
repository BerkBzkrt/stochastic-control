---
title: Martingales
---

Consider a probability space $(Ω, \mathcal F, P)$ and an increasing sequence $\{\mathcal F_t\}_{t \ge 1}$ of $σ$-fields defined on $\mathcal F$. An adapted sequcnce $\{X_t\}_{t \ge 1}$ of nonnegative real-valued random variables is called a **nonnegative supermartingale** if
$$
  X_t \ge \EXP[X_{t+1} \mid \mathcal F_t ], \quad a.s. \text{ for all } t \ge 1.
$$

A supermartingale is by definition a sequence of random variables which "decrease in conditional mean".  We start with a version of Markov inequality for supermartingales.


## Nonnegative supermartingales

We state certain properties of nonnegative supermartingales without proof. This material is taken from @Neveu1975.

1. **Maximal inequality for nonnegative supermartingales.**
For every nonnegative supermartingale $\{X_t\}_{t \ge 1}$, the random variable $\sup_{t \ge 1} X_t$ is a.s.\ finite on the set $\{X_0 < ∞\}$ and, more precisely, satisfies the following inequality:
$$
  \PR\Bigl( \sup_{t \ge 1} X_t \ge a \Bigm| \mathcal F_t \Bigr)
  \le
  \max\biggl( \frac{X_0}{a}, 1 \biggr)
$$
2. **Switching principle for supermartingales.** Given two nonnegative supermartingales $\{X^{(i)}_t\}_{t \ge 1}$, $i \in \{1, 2\}$, and a stopping time $τ$ such that $X^{(1)}_{τ} \ge X^{(2)}_{τ}$ on $\{τ < ∞\}$, the formula
   $$
    X_t(ω) = \begin{cases}
    X^{(1)}_t(ω), & \text{if $t < τ(ω)$} \\
    X^{(2)}_t(ω), & \text{if $t \ge τ(ω)$}
    \end{cases}
    $$
    defines a new nonnegative supermartingale.

3. **Supermartingale convergence theorem.** Every nonnegative supermartingale $\{X_t\}_{t \ge 1}$ converges almost surely. Furthermore, the limit $X_{∞} = \lim_{t \to ∞} X_t$ satisfies the inequality
   $$
     \EXP[ X_{∞} \mid \mathcal F_t] \le X_t.
   $$

4. Let $\{X_t\}_{t \ge 1}$ be a nonnegative supermartingale. Then, for any stopping times $τ_1$ and $τ_2$, we have
   $$
    X_{τ_1} \ge \EXP[ X_{τ_2} \mid \mathcal F_{τ_1},
    \quad \text{ on } \{τ_1 \le τ_2 \}.
   $$

5. For a nonnegative Supermartingale $\{X_t\}_{t \ge 1}$ and a stopping time $τ$, the sequnce $\{X_{τ \wedge t}\}_{t \ge 1}$ "stopped at the stopping time $τ$" is also a non-negative supermartingale.

The converges result continues to hold for "almost" supermartingales.

:::{#thm-almost-supermartingale}
## Almost supermartingale convergence theorem
Suppose $\{X_t\}_{t \ge 1}$, $\{β_t\}_{t \ge 1}$, $\{Y_t\}_{t \ge 1}$, $\{Z_t\}_{t \ge 1}$ are nonnegative stochastic processes adapted to some filtration $\{\mathcal F_t\}_{t \ge 1}$ that satisfy
\begin{equation}\label{eq:almost-supermartingale}
  \EXP[X_{t+1} \mid \mathcal F_t ] \le 
  (1 + β_t) X_t + Y_t - Z_t, 
  \quad t \ge 1
\end{equation}
Define the set $Ω_0$ by
$$
  Ω_0 = \biggl\{ ω : \sum_{t \ge 1} β_t(ω) < ∞ \biggr\}
  \cap
  \biggl\{ ω : \sum_{t \ge 1} Y_t(ω) < ∞ \biggr\}.
$$
Then, for all $ω \in Ω_0$, we have that

(i) $\lim_{t \to ∞} X_t(ω)$ exists and is finite
(ii) $\sum_{t \ge 1} Z_t(ω) < ∞$.
:::

## Notes {-}

@thm-almost-supermartingale is from @Robbins1971. A version of @thm-almost-supermartingale with $Z_t = 0$ is stated as Exercise II-4 of @Neveu1975.
